<view><view class="grace-filter" style="{{'position:'+(fixed?'fixed':'relative')+';'+('top:'+(top)+';')}}" id="grace-filter-header"><block wx:for="{{filters}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['items',activeIndex==index?'text-red':'text-grey']}}" data-index="{{index}}" data-event-opts="{{[['tap',[['changeSort',['$event']]]]]}}" bindtap="__e"><block wx:if="{{item.filterType!=2}}"><text class="text-df">{{item.title}}</text></block><block wx:else><text class="text-df">{{activeOption&&activeOption.name||item.title}}</text></block><block wx:if="{{item.filterType==2}}"><text class="grace-iconfont icon-arrow-down"></text></block><block wx:else><block wx:if="{{item.filterType==0}}"><text class="grace-iconfont"></text></block><block wx:else><block wx:if="{{activeIndex!=index}}"><image src="/static/icon/sort0.png" mode="widthFix"></image></block><block wx:else><block wx:if="{{activeIndex==index&&activeAscState}}"><image src="/static/icon/sort2.png" mode="widthFix"></image></block><block wx:else><block wx:if="{{activeIndex==index}}"><image src="/static/icon/sort1.png" mode="widthFix"></image></block></block></block></block></block></view></block><block wx:if="{{showShape}}"><view data-event-opts="{{[['tap',[['changeShape',['$event']]]]]}}" class="text-xxl padding-lr margin-top-sm" bindtap="__e"><text class="{{['text-red',curShapeValue==2?'cuIcon-apps':'cuIcon-list']}}"></text></view></block><block wx:for="{{filters}}" wx:for-item="item" wx:for-index="index"><block wx:if="{{activeIndex==index&&showOption}}"><view class="grace-filter-options"><block wx:for="{{item.options||[]}}" wx:for-item="opt" wx:for-index="optIndex"><view class="{{[activeOption&&opt.value===activeOption.value?'option current':'option']}}" data-index="{{index}}" data-optindex="{{optIndex}}" data-event-opts="{{[['tap',[['changeSort',['$event']]]]]}}" bindtap="__e">{{''+opt.name}}<text class="cuIcon-right text-gray"></text></view></block></view></block></block></view></view>