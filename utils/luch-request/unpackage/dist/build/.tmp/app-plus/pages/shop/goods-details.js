(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/goods-details"],{"6dab":function(o,t,e){"use strict";e.r(t);var n=e("f825"),s=e("f082");for(var a in s)"default"!==a&&function(o){e.d(t,o,function(){return s[o]})}(a);var i,d=e("f0c5"),r=Object(d["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],i);t["default"]=r.exports},"9ab1":function(o,t,e){"use strict";(function(o,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=e("be59"),a=function(){return e.e("components/details/xw-dth-details-info").then(e.bind(null,"cc84"))},i=function(){return e.e("components/details/xw-dth-details-param").then(e.bind(null,"ab3b"))},d=function(){return e.e("components/details/xw-dth-details-store").then(e.bind(null,"32b8"))},r=function(){return e.e("components/details/xw-dth-goods").then(e.bind(null,"749f"))},l=function(){return e.e("components/details/xw-dth-details-bottom").then(e.bind(null,"564b"))},u=function(){return e.e("components/details/xw-dth-details-image").then(e.bind(null,"f2ff"))},c=function(){return e.e("components/details/xw-dth-details-recommend").then(e.bind(null,"40f2"))},f=function(){return e.e("components/details/xw-dth-details-param-dialog").then(e.bind(null,"31e9"))},g=function(){return Promise.all([e.e("common/vendor"),e.e("components/details/xw-dth-details-specifi-dialog")]).then(e.bind(null,"7e89"))},h={components:{XwDthDetailsInfo:a,XwDthDetailsParam:i,XwDthDetailsStore:d,XwDthGoods:r,XwDthDetailsImage:u,XwDthDetailsBottom:l,XwDthDetailRecommend:c,XwDthDetaailsParamDialog:f,XwDthDetailsSpecifiDialog:g},data:function(){return{bShowParamDialog:!1,bShowSpecifiDialog:!1,layoutBottom:o.upx2px(119),goodsInfo:{goodsPictures:[],param:[],store:{},goodsDetails:[]},skuData:[],storeRecommendGoods:[],seemLookGoods:{list:[]},isAddCart:!1}},onLoad:function(t){var e=this;(0,s.findGoodsAllInfoByGodosIdAndStoreId)(t).then(function(t){var n=t.data,s=t.code,a=t.msg;"200"===s?(e.goodsInfo=n.goods,e.storeRecommendGoods=n.storeRecommendGoods,e.seemLookGoods.list=n.seemLookGoods,e.goodsInfo.goodsAttrRels[0].attrs.forEach(function(o,t){o.attrValues.forEach(function(o,t){o.type="default"}),e.skuData.push(o)})):o.showToast({icon:"none",title:a})})},methods:{showParamDialog:function(o){this.bShowParamDialog=!0},showSpecifiDialog:function(t){var e=o.getStorageSync("userInfo");1==e.isCompleteInfo?(this.isAddCart=t,this.bShowSpecifiDialog=!0):o.showModal({title:"提示",content:"请完善用户信息",showCancel:!1,success:function(t){o.navigateTo({url:"/pages/user/edit-profile"})}})},tagChange:function(t,e){if(this.isAddCart){n("log","加入购物车"," at pages\\shop\\goods-details.vue:133"),o.showLoading({title:""});var a=o.getStorageSync("userInfo"),i={shopCarNbr:a.shopCarNbr,goodsInst:{storeId:this.goodsInfo.store.storeId,goodsId:this.goodsInfo.goodsId,goodsNum:e,goodsInstAttrs:[{attrId:1,attrValueId:2}]}};(0,s.addGoodsCart)(i).then(function(t){var e="";e="200"==t.code?"加入购物车成功":t.msg,o.showToast({title:e,icon:"none"})})}else{n("log","立即购买"," at pages\\shop\\goods-details.vue:170");var d=o.getStorageSync("userInfo"),r={shopCarNbr:d.shopCarNbr,storeId:this.goodsInfo.store.storeId,storeName:this.goodsInfo.store.storeName,storePicture:this.goodsInfo.store.storePicture,goodsTotalNum:e,goodsTotalPrice:e*this.goodsInfo.price,goodsInst:[{goodsId:this.goodsInfo.goodsId,goodsNum:e,goodsName:this.goodsInfo.goodsName,price:this.goodsInfo.price,producer:this.goodsInfo.producer,goodsPictures:this.goodsInfo.goodsPictures[0].pictureUrl,goodsInstAttrs:[{attrId:t.id,attrValueId:t.id}]}]},l=[];l.push(r),o.navigateTo({url:"/pages/shop/confirm-order?commitType=2&item="+encodeURIComponent(JSON.stringify(l))})}}}};t.default=h}).call(this,e("6e42")["default"],e("0de9")["default"])},efab:function(o,t,e){"use strict";(function(o){e("f146"),e("921b");n(e("66fd"));var t=n(e("6dab"));function n(o){return o&&o.__esModule?o:{default:o}}o(t.default)}).call(this,e("6e42")["createPage"])},f082:function(o,t,e){"use strict";e.r(t);var n=e("9ab1"),s=e.n(n);for(var a in n)"default"!==a&&function(o){e.d(t,o,function(){return n[o]})}(a);t["default"]=s.a},f825:function(o,t,e){"use strict";var n,s=function(){var o=this,t=o.$createElement;o._self._c},a=[];e.d(t,"b",function(){return s}),e.d(t,"c",function(){return a}),e.d(t,"a",function(){return n})}},[["efab","common/runtime","common/vendor"]]]);