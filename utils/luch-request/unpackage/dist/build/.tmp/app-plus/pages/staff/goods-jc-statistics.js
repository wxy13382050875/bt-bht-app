(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/staff/goods-jc-statistics"],{"0f3a":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(a("a34a")),i=o(a("33fb")),r=a("f0d2");function o(t){return t&&t.__esModule?t:{default:t}}function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function s(t,e,a,n,i,r,o){try{var u=t[r](o),s=u.value}catch(c){return void a(c)}u.done?e(s):Promise.resolve(s).then(n,i)}function c(t){return function(){var e=this,a=arguments;return new Promise(function(n,i){var r=t.apply(e,a);function o(t){s(r,n,i,o,u,"next",t)}function u(t){s(r,n,i,o,u,"throw",t)}o(void 0)})}}var l=function(){return a.e("components/staff/stat-date-picker").then(a.bind(null,"de23"))},d=function(){return Promise.all([a.e("common/vendor"),a.e("components/common/bht-num-count")]).then(a.bind(null,"0b77"))},f=null,h=null,p={components:{StatDatePicker:l,BhtNumCount:d},data:function(){return{dataFlag:"importData",showPicker:!1,totalAmount:0,queryYear:(new Date).getFullYear(),startDate:new Date("2014-01-01").toDateString(),chartData:{},trendStatsTitle:""}},watch:{dataFlag:function(t,e){this.updateDataDynamically()}},onLoad:function(){var t=c(n.default.mark(function t(){return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.reqChartData();case 2:this.topTenGoodsChartPie("goods_sort_ten_pie",this.getPieCharData()),this.trendStatisticsLine("trend_statistics_line",this.getLineChartData());case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{changeFlag:function(t){this.dataFlag=t},showPickerEvent:function(){this.showPicker=!0},changePickerDate:function(t){var e=t.year;this.queryYear=e,this.reqChartData(),this.updateDataDynamically()},reqChartData:function(){var t=c(n.default.mark(function t(){var e;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,r.goodsTradeReq)({queryYear:this.queryYear});case 2:e=t.sent,this.totalAmount=e.totalAmount,this.chartData=e;case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),updateDataDynamically:function(){f.updateData(this.getPieCharData()),h.updateData(this.getLineChartData())},getPieCharData:function(){var t=this.chartData[this.dataFlag].goodsRank,e=[];t.axisValues.forEach(function(t,a){e.push({data:t})}),t.xAxis.forEach(function(t,a){e[a].name=t});for(var a={series:e},n=function(t){a.series[t].format=function(){return a.series[t].name+":"+a.series[t].data+"万"}},i=0;i<a.series.length;i++)n(i);return a},getLineChartData:function(){var t=this.chartData[this.dataFlag].firstGoodsTrend;this.trendStatsTitle=t.title;var e={categories:t.xAxis,series:[{name:"出口",data:t.axisValues,legendShape:"circle"}]};return e},topTenGoodsChartPie:function(e,a){var n=this;f=new i.default({$this:n,canvasId:e,title:"进口商品交易额排名（TOP10）",colors:["#FE7735","#FFCE55","#48CFAE","#99B7FF","#7B4FFC","#99B7FF","#38F672","#D54F99","#FFADB2","#EC87BF"],type:"pie",fontSize:t.upx2px(20),legend:{show:!1},background:"#FFFFFF",pixelRatio:1,series:a.series,animation:!0,width:t.upx2px(700),height:t.upx2px(533),dataLabel:!0,extra:{pie:{lableWidth:15}}})},trendStatisticsLine:function(e,a){var n,r=this;h=new i.default((n={$this:r,canvasId:e,type:"line",padding:[0,0,0,0],colors:["#5AD4B6"],fontSize:11,legend:{show:!1}},u(n,"padding",[15,0,9,25]),u(n,"dataLabel",!0),u(n,"dataPointShape",!0),u(n,"background","#FFFFFF"),u(n,"pixelRatio",1),u(n,"categories",a.categories),u(n,"series",a.series),u(n,"animation",!0),u(n,"xAxis",{disableGrid:!0,boundaryGap:"justify"}),u(n,"yAxis",{disableGrid:!0,format:function(t){return""}}),u(n,"width",t.upx2px(650)),u(n,"height",t.upx2px(395)),u(n,"extra",{line:{type:"straight"}}),n))}}};e.default=p}).call(this,a("6e42")["default"])},"272a":function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement;t._self._c},r=[];a.d(e,"b",function(){return i}),a.d(e,"c",function(){return r}),a.d(e,"a",function(){return n})},4735:function(t,e,a){"use strict";var n=a("e188"),i=a.n(n);i.a},ce5c:function(t,e,a){"use strict";a.r(e);var n=a("272a"),i=a("d754");for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);a("4735");var o,u=a("f0c5"),s=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=s.exports},d2f1:function(t,e,a){"use strict";(function(t){a("f146"),a("921b");n(a("66fd"));var e=n(a("ce5c"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},d754:function(t,e,a){"use strict";a.r(e);var n=a("0f3a"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e["default"]=i.a},e188:function(t,e,a){}},[["d2f1","common/runtime","common/vendor"]]]);