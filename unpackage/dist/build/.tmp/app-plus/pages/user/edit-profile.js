(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/edit-profile"],{1422:function(e,n,t){"use strict";t.r(n);var r=t("8eda"),o=t("85a3");for(var i in o)"default"!==i&&function(e){t.d(n,e,function(){return o[e]})}(i);t("fc1b");var a=t("2877"),u=Object(a["a"])(o["default"],r["a"],r["b"],!1,null,"04ae7198",null);n["default"]=u.exports},"293f":function(e,n,t){},"709f":function(e,n,t){"use strict";(function(e){t("a2f8"),t("921b");r(t("66fd"));var n=r(t("1422"));function r(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("6e42")["createPage"])},"85a3":function(e,n,t){"use strict";t.r(n);var r=t("ddea"),o=t.n(r);for(var i in r)"default"!==i&&function(e){t.d(n,e,function(){return r[e]})}(i);n["default"]=o.a},"8eda":function(e,n,t){"use strict";var r=function(){var e=this,n=e.$createElement;e._self._c},o=[];t.d(n,"a",function(){return r}),t.d(n,"b",function(){return o})},ddea:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("6b85"),o=t("2f62"),i=t("6ecf"),a=u(t("b827"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){s(e,n,t[n])})}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var f=function(){return t.e("third/MpPicker/mpvuePicker").then(t.bind(null,"5d37"))},l={components:{MpPicker:f},data:function(){return{nationArr:["中国","越南","缅甸","泰国","老挝"],nationIndex:0,idTypeArr:["身份证","边民证","护照","港澳通行证"],idTypeIndex:0,formData:{},regionPickerArry:r.regionData,regionDef:[0,0],regionText:""}},onLoad:function(){this.formData=c({},this.userInfo),this.init()},computed:c({},(0,o.mapGetters)({userInfo:"user/userInfo"})),methods:c({},(0,o.mapActions)({setUserInfo:"user/setUserInfo"}),{handleUpdate:function(){var n=this,t=[{name:"name",checkType:"notnull",errorMsg:"请填写姓名"},{name:"sex",checkType:"notnull",errorMsg:"请选择性别"},{name:"nationality",checkType:"notnull",errorMsg:"请选择国籍"},{name:"idType",checkType:"notnull",errorMsg:"请选择证件类型"},{name:"idCode",checkType:"notnull",errorMsg:"请填写证件号码"},{name:"idCode",checkType:"string",checkRule:"18",errorMsg:"证件号不合法"},{name:"customs",checkType:"notnull",errorMsg:"请选择隶属海关"}],r=a.default.check(c({},this.formData),t);r?(0,i.updateUserInfo)(this.formData).then(function(t){var r=t.code,o=t.msg,i=t.data;500===r&&e.showToast({title:o,icon:"none"}),200===r&&e.showToast({title:"更新成功",success:function(){e.setStorageSync("userInfo",i),n.setUserInfo(i),n.$Router.pushTab("/pages/user/center")}})}):e.showToast({title:a.default.error,icon:"none"})},flagRadioChange:function(e){var n=e.detail;this.formData.sex=n.value},pickerNationalityChange:function(e){this.nationIndex=e.target.value,this.formData.nationality=this.nationArr[this.nationIndex]},pickerIdTypeChange:function(e){this.idTypeIndex=e.target.value,this.formData.idType=this.idTypeArr[this.idTypeIndex]},regionConfirm:function(e){this.formData.customs=e.value[0],this.formData.region=e.value[1],this.regionText=e.label},showRegion:function(){this.hideKeyBoard(),this.$refs.regionPicker.show()},hideKeyBoard:function(){e.hideKeyboard()},init:function(){var e=this.userInfo,n=e.customs,t=e.region,o="";if(""!=n&&null!=n){var i=[];r.regionData.forEach(function(e,r,a){n===e.value&&(i.push(r),o=e.label,e.children.forEach(function(e,n,r){e.value===t&&(i.push(n),o+="-"+e.label)}))}),this.regionText=o,this.regionDef=i}}})};n.default=l}).call(this,t("6e42")["default"])},fc1b:function(e,n,t){"use strict";var r=t("293f"),o=t.n(r);o.a}},[["709f","common/runtime","common/vendor"]]]);