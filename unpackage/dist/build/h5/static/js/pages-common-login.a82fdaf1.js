(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-common-login"],{"016a":function(e,t,r){"use strict";var n=r("e38b"),a=r.n(n);a.a},"063d":function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.market_http=t.bht_http=void 0;var a=n(r("cebc")),i=n(r("5cd0")),o=n(r("1728")),u=new i.default;t.bht_http=u,u.setConfig(function(e){return e.baseUrl=o.default.BASE_BHT_URL,e}),u.validateStatus=function(e){return 200===e.statusCode},u.interceptor.request(function(e,t){return e.header=(0,a.default)({},e.header,{dataType:"json"}),e}),u.interceptor.response(function(e){return e.data},function(e){return uni.showToast({icon:"none",title:"您的网络不给力，请稍后重试！"}),e});var s=new i.default;t.market_http=s,s.setConfig(function(e){return e.baseUrl=o.default.BASE_MARKET_URL,e}),s.validateStatus=function(e){return 200===e.statusCode},s.interceptor.request(function(e,t){return e.header=(0,a.default)({},e.header,{dataType:"json"}),e}),s.interceptor.response(function(e){return e.data},function(e){return uni.showToast({icon:"none",title:"您的网络不给力，请稍后重试！"}),e})},1728:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={BASE_BHT_URL:"https://bht.bt.yndth.cn/api/",BASE_MARKET_URL:"http://market.bt.yndth.cn/api/v1.22/",BASE_TRADEING_URL:"http://www.trade",BASE_SHOPPING_URL:"http://182.92.165.86/mobile"};t.default=n},"18cc":function(e,t,r){"use strict";r.r(t);var n=r("32b9"),a=r("c2ea");for(var i in a)"default"!==i&&function(e){r.d(t,e,function(){return a[e]})}(i);r("016a");var o=r("2877"),u=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"b6c8897e",null);t["default"]=u.exports},"32b9":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",[r("aca-nav-bar",{attrs:{level:2,title:"登录"}}),r("bht-layout-container",{attrs:{"bg-color":"#fff"}},[r("v-uni-view",{staticClass:"login-wrapper"},[r("v-uni-view",{staticClass:"login-top"},[r("v-uni-view",{staticClass:"logo-box"},[r("v-uni-image",{staticClass:"app-logo",attrs:{src:"/static/app_logo_d.png"}})],1),r("v-uni-image",{staticClass:"app-logo-2",attrs:{src:"/static/app_logo_login1.png"}})],1),r("v-uni-view",{staticClass:"app-login"},[r("v-uni-view",{staticClass:"aca-form-input"},[r("v-uni-view",{staticClass:"aca-input-icon"},[r("v-uni-view",{staticClass:"iconfont aca-shouji"})],1),r("v-uni-input",{staticClass:"aca-input",attrs:{type:"number",name:"input",placeholder:"请输入手机号"},model:{value:e.loginData.account,callback:function(t){e.$set(e.loginData,"account",t)},expression:"loginData.account"}})],1),r("v-uni-view",{staticClass:"aca-form-input"},[r("v-uni-view",{staticClass:"aca-input-icon"},[r("v-uni-view",{staticClass:"iconfont aca-mima"})],1),r("v-uni-input",{staticClass:"aca-input",attrs:{type:"password",name:"input",placeholder:"请输入密码"},model:{value:e.loginData.password,callback:function(t){e.$set(e.loginData,"password",t)},expression:"loginData.password"}})],1),r("v-uni-button",{staticClass:"app-btn",attrs:{"hover-class":""},on:{click:function(t){t=e.$handleEvent(t),e.handleLogin(t)}}},[e._v("登录")]),r("v-uni-view",{staticClass:"login-footer"},[r("router-link",{staticClass:"item",attrs:{to:"{name: 'forget'}"}},[e._v("忘记密码？")]),r("router-link",{staticClass:"item",attrs:{to:"{name: 'reg'}"}},[e._v("注册")])],1)],1)],1)],1)],1)},a=[];r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a})},"5cd0":function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("a4bb"));r("ac6a"),r("7f7f");var i=n(r("f499")),o=n(r("cebc")),u=n(r("795b"));r("96cf");var s=n(r("3b8d")),c=n(r("d225")),l=n(r("b0b4")),d=n(r("bd86")),f=function(){function e(){var t=this;(0,c.default)(this,e),(0,d.default)(this,"config",{baseUrl:"",header:{"content-type":"application/json;charset=UTF-8"},method:"GET",dataType:"json",responseType:"text"}),(0,d.default)(this,"interceptor",{request:function(e){e&&(t.requestBeforeFun=e)},response:function(e,r){e&&r&&(t.requestComFun=e,t.requestComFail=r)}})}return(0,l.default)(e,[{key:"requestBeforeFun",value:function(e){return e}},{key:"requestComFun",value:function(e){return e}},{key:"requestComFail",value:function(e){return e}},{key:"validateStatus",value:function(e){return 200===e.statusCode}},{key:"setConfig",value:function(e){this.config=e(this.config)}},{key:"request",value:function(){var t=(0,s.default)(regeneratorRuntime.mark(function t(){var r,n=this,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:{},r.baseUrl=this.config.baseUrl,r.dataType=r.dataType||this.config.dataType,r.responseType=r.responseType||this.config.responseType,r.url=r.url||"",r.data=r.data||{},r.params=r.params||{},r.header=r.header||this.config.header,r.method=r.method||this.config.method,t.abrupt("return",new u.default(function(t,a){var u=!0,s={};r.complete=function(e){e.config=s,n.validateStatus(e)?(e=n.requestComFun(e),t(e)):(e=n.requestComFail(e),a(e))};var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"handle cancel",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n={errMsg:e,config:t};a(n),u=!1};s=(0,o.default)({},n.requestBeforeFun(r,c));var l=(0,o.default)({},s);if(u){var d=e.posUrl(r.url)?r.url:r.baseUrl+r.url;if("{}"!==(0,i.default)(r.params)){var f=e.addQueryString(r.params);d+=-1===d.indexOf("?")?"?".concat(f):"&".concat(f)}l.url=d,uni.request(l)}}));case 10:case"end":return t.stop()}},t,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request((0,o.default)({url:e,method:"GET"},t))}},{key:"post",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request((0,o.default)({url:e,data:t,method:"POST"},r))}},{key:"put",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request((0,o.default)({url:e,data:t,method:"PUT"},r))}},{key:"delete",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request((0,o.default)({url:e,data:t,method:"DELETE"},r))}},{key:"connect",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request((0,o.default)({url:e,data:t,method:"CONNECT"},r))}},{key:"head",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request((0,o.default)({url:e,data:t,method:"HEAD"},r))}},{key:"options",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request((0,o.default)({url:e,data:t,method:"OPTIONS"},r))}},{key:"trace",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request((0,o.default)({url:e,data:t,method:"TRACE"},r))}},{key:"upload",value:function(t,r){var n=this,a=r.filePath,i=r.name,s=r.header,c=r.formData;return new u.default(function(r,u){var l=!0,d={},f={baseUrl:n.config.baseUrl,url:t,filePath:a,method:"UPLOAD",name:i,header:s||n.config.header,formData:c,complete:function(e){e.config=d,200===e.statusCode?(e=n.requestComFun(e),r(e)):(e=n.requestComFail(e),u(e))}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"handle cancel",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,r={errMsg:e,config:t};u(r),l=!1};d=(0,o.default)({},n.requestBeforeFun(f,p));var h=(0,o.default)({},d);l&&(h.url=e.posUrl(t)?t:n.config.baseUrl+t,uni.uploadFile(h))})}}],[{key:"posUrl",value:function(e){return/(http|https):\/\/([\w.]+\/?)\S*/.test(e)}},{key:"addQueryString",value:function(e){var t="";return(0,a.default)(e).forEach(function(r){t+=r+"="+e[r]+"&"}),t.substring(0,t.length-1)}}]),e}();t.default=f},"63d3":function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,".login-wrapper[data-v-b6c8897e]{height:100vh;overflow:scroll}.login-top[data-v-b6c8897e]{padding-top:%?65?%;text-align:center}.login-top .logo-box[data-v-b6c8897e]{margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:%?241?%;height:%?241?%;background:#cf2022;border-radius:121px}.login-top .logo-box .app-logo[data-v-b6c8897e]{width:%?142?%;height:%?141?%}.login-top .app-logo-2[data-v-b6c8897e]{margin-top:%?27?%;width:%?218?%;height:%?95?%}.app-login[data-v-b6c8897e]{margin-top:%?134?%;padding:0 %?60?%}.app-login .login-footer[data-v-b6c8897e]{margin-top:%?23?%;padding:0 %?30?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.app-login .login-footer .item[data-v-b6c8897e]{font-size:%?30?%;color:#e40011}",""])},"6ecf":function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.forgetPassword=t.updateUserInfo=t.register=t.sendMobileCode=t.login=void 0;var a=n(r("795b")),i=r("063d"),o=function(e){return i.bht_http.get("user/login",{params:e})};t.login=o;var u=function(e){return i.bht_http.get("verify/send/".concat(e))};t.sendMobileCode=u;var s=function(e){return i.bht_http.post("user/reg",e,{header:{"Content-Type":"application/x-www-form-urlencoded"}})};t.register=s;var c=function(e){return uni.showLoading({title:"正在努力提交...",mask:!0}),new a.default(function(t,r){i.bht_http.post("user/update",e,{header:{"content-Type":"application/x-www-form-urlencoded"}}).then(function(e){uni.hideLoading(),t(e)}).catch(function(e){uni.hideLoading(),r(e)})})};t.updateUserInfo=c;var l=function(e){return uni.showLoading({title:"正在努力提交...",mask:!0}),new a.default(function(t,r){i.bht_http.post("user/resetPassword",e,{header:{"content-type":"application/x-www-form-urlencoded"}}).then(function(e){uni.hideLoading(),t(e)}).catch(function(e){uni.hideLoading(),r(e)})})};t.forgetPassword=l},9867:function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("cebc")),i=n(r("b827")),o=r("6ecf"),u=r("2f62"),s={data:function(){return{loginData:{account:"",password:""},rule:[{name:"account",checkType:"phoneno",errorMsg:"请填写正确的手机号"},{name:"password",checkType:"notnull",errorMsg:"请填写密码"}],loginBtn:!0}},computed:(0,a.default)({},(0,u.mapGetters)({mobile:"user/mobile"})),created:function(){this.loginData.account=this.mobile},methods:(0,a.default)({},(0,u.mapActions)("user",["setLoginStatus","setUserInfo","setMobile"]),{handleLogin:function(){var e=this,t=i.default.check((0,a.default)({},this.loginData),this.rule);t?(0,o.login)(this.loginData).then(function(t){500===t.code&&uni.showToast({icon:"none",title:"手机号或密码错误"}),200===t.code&&(e.setLoginStatus(!0),e.setUserInfo(t.data),e.setMobile(t.data.mobile),uni.setStorageSync("userInfo",t.data),e.$Router.pushTab({name:"index"}))}).catch(function(e){console.log(e)}):uni.showToast({title:i.default.error,icon:"none"})}})};t.default=s},b827:function(e,t,r){"use strict";r("c5f6"),r("28a5"),r("3b2b"),r("7f7f"),e.exports={error:"",check:function(e,t){for(var r=0;r<t.length;r++){if(!t[r].checkType)return!0;if(!t[r].name)return!0;if(!t[r].errorMsg)return!0;if(!e[t[r].name])return this.error=t[r].errorMsg,!1;switch(t[r].checkType){case"string":var n=new RegExp("^.{"+t[r].checkRule+"}$");if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"int":n=new RegExp("^(-[1-9]|[1-9])[0-9]{"+t[r].checkRule+"}$");if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"between":if(!this.isNumber(e[t[r].name]))return this.error=t[r].errorMsg,!1;var a=t[r].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[r].name]>a[1]||e[t[r].name]<a[0])return this.error=t[r].errorMsg,!1;break;case"betweenD":n=/^-?[1-9][0-9]?$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;a=t[r].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[r].name]>a[1]||e[t[r].name]<a[0])return this.error=t[r].errorMsg,!1;break;case"betweenF":n=/^-?[0-9][0-9]?.+[0-9]+$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;a=t[r].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[r].name]>a[1]||e[t[r].name]<a[0])return this.error=t[r].errorMsg,!1;break;case"same":if(e[t[r].name]!=t[r].checkRule)return this.error=t[r].errorMsg,!1;break;case"notsame":if(e[t[r].name]==t[r].checkRule)return this.error=t[r].errorMsg,!1;break;case"email":n=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"phoneno":n=/^1[0-9]{10,10}$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"zipcode":n=/^[0-9]{6}$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"reg":n=new RegExp(t[r].checkRule);if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"in":if(-1==t[r].checkRule.indexOf(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"notnull":if(null==e[t[r].name]||e[t[r].name].length<1)return this.error=t[r].errorMsg,!1;break}}return!0},isNumber:function(e){return e=Number(e),NaN!=e}}},c2ea:function(e,t,r){"use strict";r.r(t);var n=r("9867"),a=r.n(n);for(var i in n)"default"!==i&&function(e){r.d(t,e,function(){return n[e]})}(i);t["default"]=a.a},e38b:function(e,t,r){var n=r("63d3");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("4f06").default;a("3ca34303",n,!0,{sourceMap:!1,shadowMode:!1})}}]);